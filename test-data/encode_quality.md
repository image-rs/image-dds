# Encode quality

<!-- This file is generated by `tests/encode.rs` -->

**Metrics:**
- **↑PSNR:** Peak Signal to Noise Ratio.
- **↑PSNR B:** Apply a small blur to the image and then measure PSNR. This is useful to measure the quality of dithering.
- **↓Region err:** This measures the absolute error after downscaling the image to 25%. The error is in 8 bit. So .e.g a region of 4 means that expected absolute error per pixel is +-4/255.

## `BC1_UNORM`

- fast: EncodeOptions { dithering: None, error_metric: Uniform, quality: Fast, parallel: true }
- normal: EncodeOptions { dithering: None, error_metric: Uniform, quality: Normal, parallel: true }
- high: EncodeOptions { dithering: None, error_metric: Uniform, quality: High, parallel: true }
- dither: EncodeOptions { dithering: ColorAndAlpha, error_metric: Uniform, quality: Normal, parallel: true }
- perc: EncodeOptions { dithering: None, error_metric: Perceptual, quality: High, parallel: true }
- perc d: EncodeOptions { dithering: Color, error_metric: Perceptual, quality: High, parallel: true }

|                 |        |   | ↑PSNR | ↑PSNR B | ↓Region err
| --------------- | ------ | - | ----- | ------- | -----------
|                 |        |   |       |         |
| Summary         | fast   | L | 28.44 | 33.29   |  1.51
|                 |        | R | 19.06 | 21.02   |  5.13
|                 |        | G | 24.93 | 29.57   |  2.79
|                 |        | B | 22.27 | 25.19   |  3.43
|                 |        | A | 24.22 | 29.16   |  1.64
|                 |        |   |       |         |
|                 | normal | L | 28.55 | 33.40   |  1.33
|                 |        | R | 19.08 | 21.03   |  4.99
|                 |        | G | 25.00 | 29.66   |  2.52
|                 |        | B | 22.30 | 25.20   |  3.30
|                 |        | A | 24.22 | 29.16   |  1.64
|                 |        |   |       |         |
|                 | high   | L | 28.60 | 33.43   |  1.27
|                 |        | R | 19.09 | 21.03   |  4.95
|                 |        | G | 25.05 | 29.68   |  2.42
|                 |        | B | 22.31 | 25.20   |  3.26
|                 |        | A | 24.22 | 29.16   |  1.64
|                 |        |   |       |         |
|                 | dither | L | 27.04 | 41.72   |  0.64
|                 |        | R | 19.10 | 22.03   |  4.74
|                 |        | G | 24.87 | 30.06   |  2.42
|                 |        | B | 22.10 | 25.85   |  3.15
|                 |        | A | 22.66 | 38.14   |  0.56
|                 |        |   |       |         |
|                 | perc   | L | 28.85 | 33.51   |  1.22
|                 |        | R | 18.97 | 20.97   |  5.43
|                 |        | G | 25.09 | 29.59   |  2.60
|                 |        | B | 22.11 | 25.12   |  3.66
|                 |        | A | 24.22 | 29.16   |  1.64
|                 |        |   |       |         |
|                 | perc d | L | 28.68 | 33.56   |  1.12
|                 |        | R | 18.95 | 20.98   |  5.21
|                 |        | G | 24.99 | 29.62   |  2.47
|                 |        | B | 22.06 | 25.13   |  3.45
|                 |        | A | 24.22 | 29.16   |  1.64
|                 |        |   |       |         |
|                 |        |   |       |         |
| base.png        | fast   | L | 21.21 | 23.96   |  7.25
|                 |        | R | 10.67 | 11.63   | 26.91
|                 |        | G | 20.47 | 23.08   |  8.50
|                 |        | B | 13.86 | 15.96   | 15.54
|                 |        | A | 17.80 | 20.01   |  9.10
|                 |        |   |       |         |
|                 | normal | L | 21.34 | 24.05   |  6.53
|                 |        | R | 10.68 | 11.63   | 26.27
|                 |        | G | 20.57 | 23.20   |  7.52
|                 |        | B | 13.90 | 15.97   | 14.94
|                 |        | A | 17.80 | 20.01   |  9.10
|                 |        |   |       |         |
|                 | high   | L | 21.38 | 24.06   |  6.44
|                 |        | R | 10.69 | 11.63   | 26.23
|                 |        | G | 20.63 | 23.23   |  7.39
|                 |        | B | 13.90 | 15.97   | 14.91
|                 |        | A | 17.80 | 20.01   |  9.10
|                 |        |   |       |         |
|                 | dither | L | 19.43 | 34.82   |  1.91
|                 |        | R | 10.79 | 12.79   | 25.57
|                 |        | G | 20.56 | 23.97   |  7.29
|                 |        | B | 13.66 | 16.71   | 15.22
|                 |        | A | 15.65 | 32.53   |  1.63
|                 |        |   |       |         |
|                 | perc   | L | 21.63 | 24.12   |  6.12
|                 |        | R | 10.63 | 11.60   | 27.79
|                 |        | G | 20.42 | 22.99   |  8.60
|                 |        | B | 13.71 | 15.92   | 15.87
|                 |        | A | 17.80 | 20.01   |  9.10
|                 |        |   |       |         |
|                 | perc d | L | 21.52 | 24.15   |  5.93
|                 |        | R | 10.62 | 11.61   | 27.56
|                 |        | G | 20.34 | 23.02   |  8.41
|                 |        | B | 13.67 | 15.91   | 15.90
|                 |        | A | 17.80 | 20.01   |  9.10
|                 |        |   |       |         |
|                 |        |   |       |         |
| color-twirl.png | fast   | L | 50.94 | 57.35   |  0.28
|                 |        | R | 44.87 | 51.32   |  0.57
|                 |        | G | 45.18 | 51.80   |  0.56
|                 |        | B | 45.04 | 51.47   |  0.57
|                 |        |   |       |         |
|                 | normal | L | 51.08 | 57.92   |  0.26
|                 |        | R | 44.92 | 51.82   |  0.53
|                 |        | G | 45.25 | 52.31   |  0.52
|                 |        | B | 44.96 | 51.90   |  0.52
|                 |        |   |       |         |
|                 | high   | L | 51.36 | 58.75   |  0.23
|                 |        | R | 45.60 | 52.72   |  0.47
|                 |        | G | 45.45 | 53.09   |  0.45
|                 |        | B | 45.60 | 52.72   |  0.47
|                 |        |   |       |         |
|                 | dither | L | 49.87 | 58.35   |  0.20
|                 |        | R | 44.16 | 53.01   |  0.38
|                 |        | G | 43.93 | 52.53   |  0.41
|                 |        | B | 44.36 | 53.61   |  0.36
|                 |        |   |       |         |
|                 | perc   | L | 52.56 | 59.64   |  0.21
|                 |        | R | 42.62 | 47.62   |  0.81
|                 |        | G | 45.91 | 52.51   |  0.49
|                 |        | B | 43.64 | 49.33   |  0.70
|                 |        |   |       |         |
|                 | perc d | L | 51.41 | 61.04   |  0.15
|                 |        | R | 42.11 | 48.10   |  0.68
|                 |        | G | 45.08 | 53.62   |  0.36
|                 |        | B | 43.05 | 50.74   |  0.51
|                 |        |   |       |         |
|                 |        |   |       |         |
| bricks-d.png    | fast   | L | 34.33 | 44.72   |  0.67
|                 |        | R | 29.41 | 38.57   |  1.00
|                 |        | G | 32.39 | 42.06   |  1.00
|                 |        | B | 31.56 | 41.05   |  1.32
|                 |        |   |       |         |
|                 | normal | L | 34.60 | 45.67   |  0.52
|                 |        | R | 29.51 | 38.87   |  0.90
|                 |        | G | 32.76 | 43.09   |  0.75
|                 |        | B | 31.89 | 41.69   |  1.11
|                 |        |   |       |         |
|                 | high   | L | 34.77 | 46.13   |  0.43
|                 |        | R | 29.55 | 38.92   |  0.85
|                 |        | G | 33.07 | 43.78   |  0.60
|                 |        | B | 32.11 | 42.06   |  1.04
|                 |        |   |       |         |
|                 | dither | L | 33.90 | 47.03   |  0.36
|                 |        | R | 29.11 | 39.23   |  0.73
|                 |        | G | 32.10 | 44.31   |  0.57
|                 |        | B | 31.24 | 42.90   |  0.81
|                 |        |   |       |         |
|                 | perc   | L | 35.67 | 47.61   |  0.38
|                 |        | R | 30.33 | 39.27   |  0.93
|                 |        | G | 31.70 | 41.22   |  0.86
|                 |        | B | 30.24 | 39.11   |  1.43
|                 |        |   |       |         |
|                 | perc d | L | 34.77 | 48.85   |  0.28
|                 |        | R | 29.93 | 39.65   |  0.73
|                 |        | G | 31.17 | 41.90   |  0.67
|                 |        | B | 29.81 | 39.76   |  1.09
|                 |        |   |       |         |
|                 |        |   |       |         |
| bricks-n.png    | fast   | L | 33.57 | 44.18   |  0.65
|                 |        | R | 26.91 | 37.55   |  1.20
|                 |        | G | 27.04 | 37.54   |  1.05
|                 |        | B | 29.26 | 38.93   |  1.13
|                 |        |   |       |         |
|                 | normal | L | 33.50 | 44.42   |  0.52
|                 |        | R | 27.11 | 37.96   |  1.06
|                 |        | G | 27.21 | 38.00   |  0.79
|                 |        | B | 29.30 | 39.02   |  1.10
|                 |        |   |       |         |
|                 | high   | L | 33.64 | 44.45   |  0.51
|                 |        | R | 27.10 | 37.88   |  1.07
|                 |        | G | 27.25 | 38.01   |  0.77
|                 |        | B | 29.31 | 39.04   |  1.09
|                 |        |   |       |         |
|                 | dither | L | 33.18 | 44.80   |  0.48
|                 |        | R | 26.82 | 38.33   |  0.88
|                 |        | G | 26.91 | 38.18   |  0.84
|                 |        | B | 29.17 | 39.33   |  1.00
|                 |        |   |       |         |
|                 | perc   | L | 35.84 | 46.94   |  0.46
|                 |        | R | 24.53 | 34.53   |  1.58
|                 |        | G | 29.76 | 40.62   |  0.81
|                 |        | B | 29.00 | 38.59   |  1.19
|                 |        |   |       |         |
|                 | perc d | L | 35.24 | 47.79   |  0.35
|                 |        | R | 24.43 | 34.81   |  1.42
|                 |        | G | 29.18 | 40.95   |  0.71
|                 |        | B | 28.88 | 38.90   |  1.04
|                 |        |   |       |         |
|                 |        |   |       |         |
| clovers-d.png   | fast   | L | 34.45 | 44.48   |  0.85
|                 |        | R | 34.45 | 43.46   |  1.18
|                 |        | G | 32.09 | 41.89   |  1.15
|                 |        | B | 35.14 | 42.73   |  1.23
|                 |        |   |       |         |
|                 | normal | L | 34.87 | 45.61   |  0.58
|                 |        | R | 34.67 | 43.88   |  1.07
|                 |        | G | 32.54 | 43.02   |  0.79
|                 |        | B | 35.22 | 42.88   |  1.17
|                 |        |   |       |         |
|                 | high   | L | 35.21 | 46.38   |  0.45
|                 |        | R | 34.83 | 44.06   |  1.00
|                 |        | G | 32.90 | 43.82   |  0.60
|                 |        | B | 35.32 | 43.06   |  1.13
|                 |        |   |       |         |
|                 | dither | L | 33.86 | 47.48   |  0.40
|                 |        | R | 33.73 | 45.22   |  0.65
|                 |        | G | 31.59 | 44.75   |  0.54
|                 |        | B | 34.84 | 43.53   |  0.86
|                 |        |   |       |         |
|                 | perc   | L | 35.91 | 47.87   |  0.44
|                 |        | R | 29.88 | 35.26   |  2.94
|                 |        | G | 33.79 | 45.54   |  0.62
|                 |        | B | 31.44 | 37.05   |  2.84
|                 |        |   |       |         |
|                 | perc d | L | 34.97 | 49.75   |  0.31
|                 |        | R | 30.11 | 36.64   |  2.27
|                 |        | G | 32.87 | 47.39   |  0.43
|                 |        | B | 31.72 | 38.05   |  2.26
|                 |        |   |       |         |
|                 |        |   |       |         |
| clovers-r.png   | fast   | L | 33.85 | 45.05   |  0.84
|                 |        | R | 32.04 | 43.15   |  1.18
|                 |        | G | 31.95 | 42.61   |  1.26
|                 |        | B | 32.05 | 43.22   |  1.16
|                 |        |   |       |         |
|                 | normal | L | 34.27 | 46.36   |  0.55
|                 |        | R | 32.36 | 43.92   |  0.99
|                 |        | G | 32.44 | 44.16   |  0.82
|                 |        | B | 32.38 | 44.04   |  0.96
|                 |        |   |       |         |
|                 | high   | L | 34.66 | 47.35   |  0.39
|                 |        | R | 32.71 | 44.50   |  0.88
|                 |        | G | 32.88 | 45.40   |  0.59
|                 |        | B | 32.71 | 44.49   |  0.89
|                 |        |   |       |         |
|                 | dither | L | 33.24 | 49.06   |  0.36
|                 |        | R | 31.35 | 46.73   |  0.56
|                 |        | G | 31.42 | 46.56   |  0.64
|                 |        | B | 31.37 | 46.80   |  0.55
|                 |        |   |       |         |
|                 | perc   | L | 34.65 | 47.25   |  0.43
|                 |        | R | 32.59 | 43.89   |  1.07
|                 |        | G | 32.83 | 45.17   |  0.65
|                 |        | B | 32.51 | 43.68   |  1.07
|                 |        |   |       |         |
|                 | perc d | L | 33.80 | 49.07   |  0.31
|                 |        | R | 31.68 | 45.39   |  0.82
|                 |        | G | 31.97 | 46.91   |  0.49
|                 |        | B | 31.75 | 45.66   |  0.77
|                 |        |   |       |         |
|                 |        |   |       |         |
| stone-d.png     | fast   | L | 34.83 | 45.46   |  0.80
|                 |        | R | 34.12 | 43.95   |  1.17
|                 |        | G | 34.37 | 44.74   |  1.02
|                 |        | B | 34.24 | 44.19   |  1.16
|                 |        |   |       |         |
|                 | normal | L | 34.94 | 46.05   |  0.63
|                 |        | R | 34.35 | 44.55   |  1.06
|                 |        | G | 34.73 | 46.05   |  0.77
|                 |        | B | 34.46 | 44.64   |  1.05
|                 |        |   |       |         |
|                 | high   | L | 35.14 | 46.01   |  0.53
|                 |        | R | 34.62 | 44.78   |  1.00
|                 |        | G | 35.15 | 46.93   |  0.59
|                 |        | B | 34.71 | 44.84   |  0.99
|                 |        |   |       |         |
|                 | dither | L | 33.49 | 45.40   |  0.52
|                 |        | R | 33.26 | 46.23   |  0.70
|                 |        | G | 33.69 | 48.27   |  0.54
|                 |        | B | 33.47 | 46.77   |  0.69
|                 |        |   |       |         |
|                 | perc   | L | 35.58 | 47.21   |  0.48
|                 |        | R | 34.36 | 43.87   |  1.19
|                 |        | G | 35.12 | 46.66   |  0.62
|                 |        | B | 34.39 | 43.85   |  1.17
|                 |        |   |       |         |
|                 | perc d | L | 34.53 | 48.86   |  0.33
|                 |        | R | 33.39 | 45.13   |  0.91
|                 |        | G | 34.14 | 48.15   |  0.45
|                 |        | B | 33.57 | 45.12   |  0.85
|                 |        |   |       |         |
|                 |        |   |       |         |
| grass.png       | fast   | L | 24.91 | 34.81   |  2.29
|                 |        | R | 17.59 | 22.60   | 10.52
|                 |        | G | 19.08 | 24.14   |  8.78
|                 |        | B | 19.69 | 24.69   |  8.28
|                 |        | A | 18.04 | 27.78   |  5.11
|                 |        |   |       |         |
|                 | normal | L | 24.92 | 34.83   |  2.27
|                 |        | R | 17.59 | 22.59   | 10.51
|                 |        | G | 19.09 | 24.13   |  8.75
|                 |        | B | 19.69 | 24.69   |  8.27
|                 |        | A | 18.04 | 27.78   |  5.11
|                 |        |   |       |         |
|                 | high   | L | 24.93 | 34.84   |  2.26
|                 |        | R | 17.59 | 22.59   | 10.50
|                 |        | G | 19.09 | 24.13   |  8.73
|                 |        | B | 19.69 | 24.69   |  8.27
|                 |        | A | 18.04 | 27.78   |  5.11
|                 |        |   |       |         |
|                 | dither | L | 23.82 | 38.58   |  1.18
|                 |        | R | 17.53 | 22.78   | 10.55
|                 |        | G | 19.04 | 24.32   |  8.79
|                 |        | B | 19.67 | 24.86   |  8.30
|                 |        | A | 16.91 | 31.74   |  2.54
|                 |        |   |       |         |
|                 | perc   | L | 25.00 | 34.88   |  2.25
|                 |        | R | 17.60 | 22.58   | 10.52
|                 |        | G | 19.09 | 24.12   |  8.73
|                 |        | B | 19.68 | 24.67   |  8.29
|                 |        | A | 18.04 | 27.78   |  5.11
|                 |        |   |       |         |
|                 | perc d | L | 24.97 | 34.89   |  2.24
|                 |        | R | 17.59 | 22.59   | 10.46
|                 |        | G | 19.09 | 24.13   |  8.71
|                 |        | B | 19.67 | 24.67   |  8.26
|                 |        | A | 18.04 | 27.78   |  5.11
|                 |        |   |       |         |
|                 |        |   |       |         |
| leaves.png      | fast   | L | 27.95 | 37.79   |  1.22
|                 |        | R | 17.88 | 23.56   |  6.83
|                 |        | G | 21.82 | 27.31   |  4.14
|                 |        | B | 23.75 | 29.28   |  3.20
|                 |        | A | 22.56 | 32.99   |  2.15
|                 |        |   |       |         |
|                 | normal | L | 27.97 | 37.83   |  1.20
|                 |        | R | 17.88 | 23.57   |  6.81
|                 |        | G | 21.83 | 27.32   |  4.09
|                 |        | B | 23.76 | 29.28   |  3.19
|                 |        | A | 22.56 | 32.99   |  2.15
|                 |        |   |       |         |
|                 | high   | L | 27.99 | 37.88   |  1.19
|                 |        | R | 17.88 | 23.57   |  6.80
|                 |        | G | 21.84 | 27.33   |  4.08
|                 |        | B | 23.76 | 29.27   |  3.18
|                 |        | A | 22.56 | 32.99   |  2.15
|                 |        |   |       |         |
|                 | dither | L | 27.07 | 40.45   |  0.79
|                 |        | R | 17.72 | 23.51   |  6.87
|                 |        | G | 21.68 | 27.26   |  4.15
|                 |        | B | 23.70 | 29.31   |  3.16
|                 |        | A | 21.75 | 35.14   |  1.44
|                 |        |   |       |         |
|                 | perc   | L | 28.00 | 37.84   |  1.19
|                 |        | R | 17.88 | 23.59   |  6.77
|                 |        | G | 21.82 | 27.31   |  4.15
|                 |        | B | 23.64 | 29.11   |  3.31
|                 |        | A | 22.56 | 32.99   |  2.15
|                 |        |   |       |         |
|                 | perc d | L | 27.99 | 37.91   |  1.16
|                 |        | R | 17.87 | 23.59   |  6.71
|                 |        | G | 21.81 | 27.31   |  4.14
|                 |        | B | 23.63 | 29.13   |  3.23
|                 |        | A | 22.56 | 32.99   |  2.15
|                 |        |   |       |         |
|                 |        |   |       |         |
| random color    | fast   | L | 57.28 | 59.95   |  0.28
|                 |        | R | 49.40 | 52.08   |  0.73
|                 |        | G | 54.19 | 56.88   |  0.41
|                 |        | B | 49.50 | 52.12   |  0.72
|                 |        |   |       |         |
|                 | normal | L | 57.28 | 59.95   |  0.28
|                 |        | R | 49.40 | 52.08   |  0.73
|                 |        | G | 54.19 | 56.88   |  0.41
|                 |        | B | 49.50 | 52.12   |  0.72
|                 |        |   |       |         |
|                 | high   | L | 57.47 | 60.18   |  0.28
|                 |        | R | 49.96 | 52.68   |  0.67
|                 |        | G | 53.96 | 56.68   |  0.42
|                 |        | B | 50.02 | 52.64   |  0.67
|                 |        |   |       |         |
|                 | dither | L | 52.65 | 61.09   |  0.23
|                 |        | R | 46.55 | 54.19   |  0.52
|                 |        | G | 50.89 | 56.79   |  0.40
|                 |        | B | 46.61 | 54.17   |  0.52
|                 |        |   |       |         |
|                 | perc   | L | 57.93 | 60.65   |  0.26
|                 |        | R | 49.21 | 51.88   |  0.72
|                 |        | G | 53.86 | 56.60   |  0.41
|                 |        | B | 49.29 | 51.90   |  0.72
|                 |        |   |       |         |
|                 | perc d | L | 53.18 | 63.08   |  0.18
|                 |        | R | 45.88 | 52.53   |  0.59
|                 |        | G | 51.15 | 57.24   |  0.36
|                 |        | B | 45.89 | 52.54   |  0.61
|                 |        |   |       |         |



## `BC4_UNORM`

- fast: EncodeOptions { dithering: None, error_metric: Uniform, quality: Fast, parallel: true }
- normal: EncodeOptions { dithering: None, error_metric: Uniform, quality: Normal, parallel: true }
- high: EncodeOptions { dithering: None, error_metric: Uniform, quality: High, parallel: true }
- dither: EncodeOptions { dithering: ColorAndAlpha, error_metric: Uniform, quality: High, parallel: true }

|                 |        |   | ↑PSNR | ↑PSNR B | ↓Region err
| --------------- | ------ | - | ----- | ------- | -----------
|                 |        |   |       |         |
| Summary         | fast   | L | 42.42 | 53.77   |  0.20
|                 | normal | L | 43.45 | 55.36   |  0.17
|                 | high   | L | 43.83 | 56.96   |  0.09
|                 | dither | L | 43.10 | 58.05   |  0.07
|                 |        |   |       |         |
| base.png        | fast   | L | 38.13 | 48.98   |  0.35
|                 | normal | L | 40.28 | 52.05   |  0.20
|                 | high   | L | 40.83 | 53.80   |  0.09
|                 | dither | L | 40.15 | 55.08   |  0.07
|                 |        |   |       |         |
| color-twirl.png | fast   | L | 56.11 | 65.28   |  0.08
|                 | normal | L | 56.11 | 65.28   |  0.08
|                 | high   | L | 56.96 | 68.37   |  0.05
|                 | dither | L | 55.82 | 71.34   |  0.02
|                 |        |   |       |         |
| clovers-r.png   | fast   | L | 39.45 | 51.73   |  0.34
|                 | normal | L | 39.47 | 51.76   |  0.34
|                 | high   | L | 39.69 | 53.07   |  0.16
|                 | dither | L | 38.93 | 53.91   |  0.16
|                 |        |   |       |         |
| stone-h.png     | fast   | L | 47.80 | 58.75   |  0.20
|                 | normal | L | 47.80 | 58.75   |  0.20
|                 | high   | L | 48.31 | 60.96   |  0.12
|                 | dither | L | 47.48 | 62.30   |  0.08
|                 |        |   |       |         |
| random color    | fast   | L | 77.56 | 80.27   |  0.03
|                 | normal | L | 77.56 | 80.27   |  0.03
|                 | high   | L | 77.56 | 80.27   |  0.03
|                 | dither | L | 73.26 | 91.53   |  0.00



## `BC4_UNORM`

- ref: EncodeOptions { dithering: None, error_metric: Uniform, quality: Unreasonable, parallel: true }

|          |     |   | ↑PSNR | ↑PSNR B | ↓Region err
| -------- | --- | - | ----- | ------- | -----------
|          |     |   |       |         |
| base.png | ref | L | 41.32 | 53.96   |  0.09



